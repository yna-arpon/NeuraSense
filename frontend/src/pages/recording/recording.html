<!DOCTYPE html>
<html lang="en">
<body>
    <div class="contents">
        <div id="addPatientDiv"> 
            <div id="addPatientForm">
                <div id="formDiv">
                    <h2>Add a New Patient</h2>
                    <form name="patientForm" id="patientFieldsContainer">
                        <label for="fname">First name</label><br>
                        <input type="text" id="fname" name="fname" required="required"><br>
                        <div class="invalidInptMsg" id="fnameError" style="display: hidden;"></div>
        
                        <label for="mname">Middle name</label><br>
                        <input type="text" id="mname" name="mname" placeholder="Optional"><br>
                        <div class="invalidInptMsg" id="mnameError" style="display: hidden;"></div>
        
                        <label for="lname">Last name</label><br>
                        <input type="text" id="lname" name="lname" required="required"><br>
                        <div class="invalidInptMsg" id="lnameError" style="display: hidden;"></div>

                        <label for="healthNum">Health Number</label><br>
                        <input type="text" id="healthNum" name="healthNum" required="required" ><br>
                        <div class="invalidInptMsg" id="hnumError" style="display: hidden;"></div>

                        <label for="birthdate">Birthdate</label><br>
                        <input type="date" id="birthdate" name="birthdate" required="required" onkeydown="return false"><br>
                        <div class="invalidInptMsg" id="bdateError" style="display: hidden;"></div>

                        <button id="addMoreInfoButton">Additional Information</button>

                        <div id="additionalInfoDiv">
                            <label for="ecmoReason">Reason for ECMO</label><br>
                            <input type="text" id="ecmoReason" class="additionalInput" name="ecmoReason" placeholder="Optional"><br>
                            <div class="invalidInptMsg" id="ecmoReasonError" style="display: hidden;"></div>

                            <label for="acuteSituation">Acute Situation</label><br>
                            <input type="text" id="acuteSituation" class="additionalInput" name="acuteSituation" placeholder="Optional"><br>
                            <div class="invalidInptMsg" id="acuteSituationError" style="display: hidden;"></div>

                            <label for="riskFactors">Risk Factors</label><br>
                            <input type="text" id="riskFactors" class="additionalInput" name="riskFactors" placeholder="Optional"><br>
                            <div class="invalidInptMsg" id="riskFactorsError" style="display: hidden;"></div>

                            <label for="medications">Medications</label><br>
                            <input type="text" id="medications" class="additionalInput" name="medications" placeholder="Optional"><br>
                            <div class="invalidInptMsg" id="medicationsError" style="display: hidden;"></div>
                        </div>

                        <input id="startRecordingBtn" type="submit" value="Start Recording" disabled>
                    </form>
                </div>
            </div>
        </div>
        <div id="additionalInfoPopUp">
            <div id="additionalInfoContent">
                <div id="popupPatientInfo">
                    <div id="popupHeader">
                        <h3 class="patientName"></h3>
                        <button id="closePopUp"><i class="bi bi-x"></i></button>
                    </div>
                    <h4>Patient Information</h4>
                    <div class="patientInfoRow" id="birthdateInfo">
                        <h5>Birthdate: </h5>
                        <p id="patientBirthDate"></p>
                    </div>
                    <div class="patientInfoRow"  id="healthNumInfo">
                        <h5>Health Number: </h5>
                        <p id="patientHealthNumber"></p>
                    </div>
                    <h4>Clinical Information</h4>
                    <div class="clinicalInfoRow" id="ecmoReasonInfo">
                        <h5>Reason for ECMO: </h5>
                        <p id="patientEcmoReason"></p>
                    </div>
                    <div class="clinicalInfoRow" id="acuteSituationInfo">
                        <h5>Acute Situation: </h5>
                        <p id="patientAcuteSituation"></p>
                    </div>
                    <div class="clinicalInfoRow" id="riskFactorsInfo">
                        <h5>Risk Factors: </h5>
                        <p id="patientRiskFactors"></p>
                    </div>
                    <div class="clinicalInfoRow" id="medicationsInfo">
                        <h5>Medications: </h5>
                        <p id="patientMedications"></p>
                    </div>
                </div>
            </div>
        </div>
        <div id="recordingDiv">
            <div id="recordingHeader">
                <div id="summaryInfo">
                    <div id="patientInfo">
                        <h3 class="patientName"></h3>
                        <button id="infoBtn"><i class="bi bi-info-circle"></i></button>
                    </div>
                    <p id="todayDate"></p>
                </div>
                <div class="switch-container">
                    <label class="switch">
                        <input type="checkbox" id="toggleSwitch">
                        <span class="slider round"></span>
                    </label>
                    <p id="statusText">Simulation</p>
                </div>
            </div>
            <div id="recordingContents">
                <div id="leftContent" class="recordingContainers">
                    <div id="strokeAssesmentContainer">
                        <h3 class="recordingHeadings">Stroke Assessment</h3>
                        <div id="strokeAssesmentDiv" class="chartsContainer">
                            <div id="strokeRiskDiv">
                                <div id="strokeRiskLevel" class="strokeRiskContent">LOW</div>
                                <div i="strokeRiskLabel" class="strokeRiskContent">risk of stroke</div>
                            </div>
                            <div id="liveDataContainer">
                                <div id="eegData" class="graphContainer">
                                    <div id="eegLabelRow" class="labelRow">
                                        <div id="eegIcon" class="graphIconContainer"><i class="bi bi-activity graphIcon"></i></div>
                                        <div id="eegLabel" class="signalLabel">EEG</div>
                                    </div>
                                    <div id="eegGraph" class="liveGraph">
                                        <canvas id="ch1EEGCanvas"></canvas>
                                        <canvas id="ch2EEGCanvas"></canvas>
                                        <canvas id="ch3EEGCanvas"></canvas>
                                        <canvas id="ch4EEGCanvas"></canvas>
                                        <div id="legendEEGContainer" class="legendContainer"></div>
                                    </div>
                                </div>
                                <div id="fNIRSData" class="graphContainer">
                                    <div id="fNIRSLabelRow" class="labelRow">
                                        <div id="fNIRSIcon" class="graphIconContainer"><i class="bi bi-heart-pulse graphIcon"></i></div>
                                        <div id="fNIRSLabel" class="signalLabel">fNIRS</div>
                                    </div>
                                    <div id="fNIRSGraph" class="liveGraph">
                                        <canvas id="af7fNIRSCanvas"></canvas>
                                        <canvas id="af8fNIRSCanvas"></canvas>
                                        <canvas id="tp9fNIRSCanvas"></canvas>
                                        <canvas id="tp8fNIRSCanvas"></canvas>
                                        <div id="legendfNIRSContainer" class="legendContainer"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div id="rightContent" class="recordingContainers">
                    <h3 class="recordingHeadings">Stroke Flags</h3>
                    <div id="flagsContainer" class="chartsContainer">
                        <div id="topEegMeasures" class="measureCategory">
                            <h2 class="flagCategoryHeader">Asymmetry Measures</h2>
                            <div class="tableContainer">
                                <table class="asymmetryTable">
                                    <tr>
                                        <th colspan="2" class="tableHeading">Relative Difference</th>
                                    </tr>
                                    <tr>
                                        <td class="tableRow">Alpha</td>
                                        <td id="alphaRD">-</td>
                                    </tr>
                                    <tr>
                                        <td class="tableRow">Beta</td>
                                        <td id="betaRD">-</td>
                                    </tr>
                                </table>
                            
                                <table class="asymmetryTable">
                                    <tr>
                                        <th colspan="2" class="tableHeading">Hemispheric Index</th>
                                    </tr>
                                    <tr>
                                        <td class="tableRow">Alpha</td>
                                        <td id="alphaHI">-</td>
                                    </tr>
                                    <tr>
                                        <td class="tableRow">Beta</td>
                                        <td id="betaHI">-</td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                        <div id="bottomEegMeasures">
                            <div class="measureCategory bottomEegMeasure">
                                <h2 class="flagCategoryHeader">Relative Band Power</h2>
                                <table>
                                    <tr>
                                        <td class="tableRow">Alpha</td>
                                        <td id="alphaRBP">-</td>
                                    </tr>
                                    <tr>
                                        <td class="tableRow">Beta</td>
                                        <td id="betaRBP">-</td>
                                    </tr>
                                </table>
                            </div>
                            <div class="measureCategory bottomEegMeasure">
                                <h2 class="flagCategoryHeader">Ratios</h2>
                                <table>
                                    <tr>
                                        <td class="tableRow">Alpha</td>
                                        <td id="dar">-</td>
                                    </tr>
                                    <tr>
                                        <td class="tableRow">Beta</td>
                                        <td id="dbr">-</td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                        <div id="summaryMeasures" class="measureCategory bottomEegMeasure">
                            <h2 class="flagCategoryHeader">Summary</h2>
                            <table>
                                <tr>
                                    <td class="tableRow">DAR & DBR: </td>
                                    <td id="ratio_flag">-</td>
                                </tr>
                                <tr>
                                    <td class="tableRow">Alpha Relative Band Power: </td>
                                    <td id="rbpa_flag">-</td>
                                </tr>
                                <tr>
                                    <td class="tableRow">Beta Relative Band Power:</td>
                                    <td id="rbpb_flag">-</td>
                                </tr>
                                <tr>
                                    <td class="tableRow">Alpha Relative Difference: </td>
                                    <td id="rda_flag">-</td>
                                </tr>
                                <tr>
                                    <td class="tableRow">Beta Relative Difference: </td>
                                    <td id="rdb_flag">-</td>
                                </tr>
                                <tr>
                                    <td class="tableRow">Alpha Hemispheric index: </td>
                                    <td id="hia_flag">-</td>
                                </tr>
                                <tr>
                                    <td class="tableRow">Beta Hemispheric index: </td>
                                    <td id="hib_flag">-</td>
                                </tr>
                            </table>
                        </div>
                    </div>
                    <div id="endContainer">
                        <div id="ecmoDurationContainer" class="chartsContainer">
                            <div id="ecmoDuration">
                                <div id="daysIconContainer" class="graphIconContainer"><i id="daysIcon" class="bi bi-calendar-heart graphIcon"></i></i></div>
                                <p id="ecmoDurationLabel">Days on ECMO</small>
                                <p id="ecmoDurationDays">0</p>
                            </div>
                        </div>
                        <button id="endSessionBtn">
                            End Session
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- This is a hack to work around commonJs support -->
    <script>
        var exports = {};
    </script>
    <script src="recording.js"></script>
</body>
</html>